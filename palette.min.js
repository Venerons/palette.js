// Palette.js v2.0.0 | Copyright (c) 2013-2018 Daniele Veneroni | Licensed under the MIT License (X11 License)
(function(){"use strict";function Palette(t,e){if(t instanceof HTMLCanvasElement){this.canvas=t}else{this.canvas=document.querySelector(t)}this.context=this.canvas.getContext("2d",e)}Palette.prototype.size=function(t,e){this.canvas.width=t;this.canvas.height=e;return this};Palette.prototype.clear=function(t){if(t){this.context.clearRect(t.x,t.y,t.width,t.height)}else{this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}return this};Palette.prototype.style=function(t){if(t.fill){this.context.fillStyle=t.fill}if(t.shadow){var e=t.shadow.split(" ");this.context.shadowOffsetX=parseInt(e[0],10);this.context.shadowOffsetY=parseInt(e[1],10);this.context.shadowBlur=parseInt(e[2],10);this.context.shadowColor=e[3]}if(t.stroke){this.context.strokeStyle=t.stroke}if(t.cap){this.context.lineCap=t.cap}if(t.join){this.context.lineJoin=t.join}if(t.thickness){this.context.lineWidth=t.thickness}if(t.miterLimit){this.context.miterLimit=t.miterLimit}if(t.alpha){this.context.globalAlpha=t.alpha}if(t.composite){this.context.globalCompositeOperation=t.composite}return this};Palette.prototype.line=function(t){this.context.save();this.style(t);this.context.beginPath();this.context.moveTo(t.x1,t.y1);this.context.lineTo(t.x2,t.y2);this.context.closePath();this.context.stroke();this.context.restore();return this};Palette.prototype.rect=function(t){this.context.save();this.style(t);this.context.beginPath();this.context.rect(t.x,t.y,t.width,t.height);this.context.closePath();if(t.fill){this.context.fill()}if(t.stroke){this.context.stroke()}this.context.restore();return this};Palette.prototype.circle=function(t){this.context.save();this.style(t);this.context.beginPath();this.context.arc(t.x,t.y,t.r,0,2*Math.PI);this.context.closePath();if(t.fill){this.context.fill()}if(t.stroke){this.context.stroke()}this.context.restore();return this};Palette.prototype.arc=function(t){this.context.save();this.style(t);this.context.beginPath();this.context.arc(t.x,t.y,t.r,t.start,t.stop);this.context.closePath();if(t.fill){this.context.fill()}if(t.stroke){this.context.stroke()}this.context.restore();return this};Palette.prototype.text=function(t){this.context.save();this.style(t);if(t.font){this.context.font=t.font}if(t.align){this.context.textAlign=t.align}if(t.baseline){this.context.textBaseline=t.baseline}if(t.measure){this.context.measureText=t.measure}if(t.stroke){this.context.strokeText(t.text,t.x,t.y)}else{this.context.fillText(t.text,t.x,t.y)}this.context.restore();return this};Palette.prototype.image=function(t){var e=this.context,i=new Image;i.onload=function(){if(t.width&&t.height){e.drawImage(i,t.x,t.y,t.width,t.height)}else{e.drawImage(i,t.x,t.y)}};i.src=t.src;return this};window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;Palette.prototype.animation=function(t,e){var i=this;if(!e){t();requestAnimationFrame(i.animation(t))}else{setTimeout(function(){t();requestAnimationFrame(i.animation(t,e))},1e3/e)}};Palette.prototype.toDataURL=function(t){t=t||{};var e=t.type||"image/png",i=t.quality||1;return this.canvas.toDataURL(e,i)};Palette.prototype.toBlob=function(t,e){t=t||{};var i=t.type||"image/png",o=t.quality||1;return this.canvas.toBlob(e,i,o)};window.Palette=Palette})();
